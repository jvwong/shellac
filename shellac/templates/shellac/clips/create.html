{% extends "shellac/base.html" %}
{% load shellac_filters %}
{% load staticfiles %}
<!-- Head -->
    {% block title %}Record{% endblock title %}
    {% block head %}
        <script src="{% static 'shellac/js/lib/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js' %}"></script>
        <link rel="stylesheet" href="{% static 'shellac/js/lib/bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.css' %}">
        <script type="text/javascript">
             $(function() {
                $("#datetimepicker").datetimepicker({
                    format: "yyyy-mm-dd hh:ii:ss"
                });
                $('input[type=file]').change(function(e){
                    var file, name, type, size, text;
                    file = $(this).prop('files')[0];
                    name = file.name;
                    type = file.type;
                    size = (file.size / (1024 * 1024)).toFixed(1);
                    text = String() + name + " | " + type + " | " + size + " MB";
                    $(this).siblings('.btn').html(text);
                });
             });
        </script>
    {% endblock head %}

<!-- Main -->
    {% block content %}
    <div class="col-xs-offset-0 col-xs-12 col-md-offset-3 col-md-6 record">
        <form class="form-signin" role="form" enctype="multipart/form-data" action="" method="POST">{% csrf_token %}

            <!-- title -->
            <div class="form-group">
                <p>{{ form.title.errors }}</p>
                {{ form.title.label_tag }}&nbsp;{{ form.title.help_text }}
                {{ form.title | add_class:"form-control" }}
            </div>

            <!-- description -->
            <div class="form-group">
                <p>{{ form.description.errors }}</p>
                {{ form.description.label_tag }}&nbsp;{{ form.description.help_text }}
                {{ form.description | add_class:"form-control" }}
            </div>

            <!-- created -->
            <div class="form-group">
                <p>{{ form.created.errors }}</p>
                {{ form.created.label_tag }}
                <div class="input-append date" id="datetimepicker" data-date="{{ form.created.value|date:'Y-m-d H:i:s' }}" >
                    <input id="id_created" class="form-control" type="text" value="{{ form.created.value|date:'Y-m-d H:i:s' }}" name="created">
                    <span class="add-on"><i class="icon-th"></i></span>
                </div>
            </div>

            <!-- categories -->
            <div class="form-group">
                <p>{{ form.categories.errors }}</p>
                {{ form.categories.label_tag }}&nbsp;{{ form.categories.help_text }}
                {{ form.categories | add_class:"form-control" }}
            </div>

            <!-- tags -->
            <div class="form-group">
                <p>{{ form.tags.errors }}</p>
                {{ form.tags.label_tag }}&nbsp;{{ form.tags.help_text }}
                {{ form.tags | add_class:"form-control" }}
            </div>
            <hr/>

            <!-- audio_file -->
            <p>{{ form.audio_file.errors }}</p>
            <span class="btn btn-default btn-file btn-block audio_file">
                <button class="btn btn-primary btn-lg btn-block audio_file" type="button">Add {{ form.audio_file.label }}</button>
                <input id="{{ form.audio_file.id_for_label }}" type="file" name="{{ form.audio_file.html_name }} onclick=updateButtonText()">
            </span>

            <!-- brand -->
            <p>{{ form.brand.errors }}</p>
            <span class="btn btn-default btn-file btn-block brand">
                <button class="btn btn-primary btn-lg btn-block brand" type="button">Add {{ form.brand.label }}</button>
                <input id="{{ form.brand.id_for_label }}" type="file" name="{{ form.brand.html_name }}">
            </span>
            <hr/>
            <button class="btn btn-lg btn-primary btn-block" id="record_submit" type="submit">Submit</button>
        </form>
    </div>
    {% endblock content %}


