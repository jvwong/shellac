{% extends "shellac/base.html" %}
{% load staticfiles %}

<!-- Head -->
    {% block title %}People{% endblock title %}

<!-- Navigation bar -->
    {% block navbar-right-form %}
    <form class="navbar-form navbar-right" method="GET" action="/search/">
        <input type="text" name="search_term" id="search" class="form-control" placeholder="Find people...">
    </form>
    {% endblock navbar-right-form %}

<!-- Content -->
    {% block content %}
    {% if query %}
        <p id="search-title" > Search results for "{{ query }}":</p>
    {% endif %}
    <div class="container-fluid">
        <div class="content-people clearfix">
            {% for person in page_obj.object_list %}
                {% if person != user.person %}
                    {% include 'shellac/partials/relationships/people.html' %}
                {% endif %}
            {% endfor %}
        </div>

        <ul class="pagination col-xs-offset-3 col-xs-9">

            {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
            {% endif %}

            {% for page_num in paginator.page_range %}
                {% if page_obj.number == page_num %}
                    <li class="disabled"><a href="#">{{ page_obj.number }}</a></li>
                {% else %}
                    <li><a href="{% url 'shellac_person_list' %}?page={{ page_num }}">{{ page_num }}</a></li>
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
            {% endif %}
        </ul>

    </div>
    {% endblock content %}